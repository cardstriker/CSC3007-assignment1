<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Hello World</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	</head>
	<body>
		<div class="content">
		    <div class = "heading">
				<h2> Singapore Environment</h2>
			</div>
			<table class="enviroTable">
			    <tr class = "tableHeader">
                    <th>Carpark Number</th>
                    <th>Time Stamp</th>
                    <th>Lot Number</th>
                    <th>Total Lots</th>
                    <th>Lots Available</th>
                    <th>Utilization</th>
                </tr>
				<script>
					async function fetchEnviroData() {
						let response = await fetch('https://api.data.gov.sg/v1/environment/psi');
						let data = await response.json();
						
						data.items[0].readings.forEach(obj => {
							 appendThis = "<tr><td></td></tr>";
							 $(".enviroTable").append(appendThis);
						});
					}
					
					fetchEnviroData();
					
				</script>
			</table>
		</div>
	</body>
</html>
